<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>Sqwag</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<meta name="viewport" content="width=device-width">

	<link rel="stylesheet/less" href="assets/less/style.less">
	<script src="assets/js/libs/less-1.3.0.min.js"></script>

  <!-- Use SimpLESS (Win/Linux/Mac) or LESS.app (Mac) to compile your .less files
  to style.css, and replace the 2 lines above by this one:

  <link rel="stylesheet" href="less/style.css">
   -->

  
</head>
<body>
<div class="container">
	<header>
    <!-- TODO: figure out a better way. This is jugaad -->
    <a id="feed"></a>
    <h1 class="align-center"><span class="logo"><b class="square">Sq</b>wag</span></h1>
    
	</header>
  <div class="navbar">
    <div class="navbar-inner">
      <div class="container">
        <ul class="nav">
          {% if loggedIn %}
          <li>
            <a class="js-load" href="#feed" id="home">Feed</a>
          </li>
          <li>
            <a>My sqwags</a>
          </li>
          <li>
            <a>Top Sqwags</a>
          </li>
          <li>
            <a href="#sqwag-form" data-toggle="modal">Create</a>
          </li>
          <li>
            <a class="js-load" href="#settings">Settings</a><li>
          <li>
            <a class="js-link" href="/sqwag/logout/">Logout</a>
          </li>
          {% else %}
          
          <li>
            <a href="#register-form" data-toggle="modal">Register</a>
          </li>
          <li>
            <a href="#login-form" data-toggle="modal">Login</a>
          </li>
          {% endif %}
        </ul>
      </div>
    </div>
  </div>
	<div role="main">
    <div class="modal hide" id="register-form">
      <form action="http://127.0.0.1:8000/sqwag/register/" method="post">
        <div class="modal-header">
          <a class="close" data-dismiss="modal">&times;</a>
          <h1>Create a Sqwag account</h1>
        </div>
        <div class="modal-body">
        	<div class="form-controls">
        	  <label for="username">Username</label>
        	  <input class="input" type="text" name="username" id="username" required />
        	</div>
        	<div class="form-controls">
        	  <label for="password">Password</label>
        	  <input type="password" name="password" id="password" required />
        	</div>
        	<div class="form-controls">
        	  <label for="email">Email</label>
        	  <input type="email" name="email" id="email" required />
        	</div>
        </div>
        <div class="modal-footer">
        	<input class="btn btn-primary" type="submit" value="register" />
        </div>
      </form>
    </div>
    
    <div class="modal hide" id="login-form">
      <form action="http://127.0.0.1:8000/sqwag/login/" method="post">
        <div class="modal-header">
          <a class="close" data-dismiss="modal">&times;</a>
          <h1>Login</h1>
        </div>
        <div class="modal-body">
          <div class="form-controls">
            <label>Username</label>
            <input type="text" name="username"/>
          </div>
          <div class="form-controls">
            <label>Password</label>
            <input type="password" name="password"/>
          </div>
        </div>
        <div class="modal-footer">
          <input type="submit" class="btn btn-primary" value="login" />
        </div>
      </form>
    </div>
    
    <div class="modal hide" id="sqwag-form">
      <form action="http://127.0.0.1:8000/api/square/create/" method="post">
        <div class="modal-header">
          <a class="close" data-dismiss="modal">&times;</a>
          <h1>create square</h1>
        </div>
        <div class="modal-body">
          <div class="form-controls">
            <label for="sq-data">data</label>
            <textarea type="text" id="sq-data" name="content_data" placeholder="What do you want to say?" required></textarea>
          </div>
          <div class="form-controls">
            <label for="sq-data">description</label>
            <input type="text" id="sq-data" name="content_description" required />
          </div>
          <div class="form-controls">
            <label>square type</label>
            <div class="controls">
              <label class="radio">
                <input type="radio" name="content_type" value="tweet" />
                tweet
              </label>
            </div>
            <div class="controls">
              <label class="radio">
                <input type="radio" name="content_type" value="text" />
                text
              </label>
            </div>
          </div>
          <input type="hidden" name="content_src" value="twitter"/>
        </div>
        <div class="modal-footer">
          <input type="submit" class="btn btn-primary" value="Add sqwag" />
        </div>
      </form>
    </div>
    <p id="console" class="alert alert-info hidden"></p>
    
    <div id="content">
    </div>
    
	</div>
	<footer>
    <p class="copyright">&copy; 2012. Sqwag inc.</p>
	</footer>
</div>

<script src="assets/js/libs/jquery-1.7.2.min.js"></script>
<script src="assets/js/libs/bootstrap-modal.min.js"></script>
<script src="assets/js/libs/jquery.form.js"></script>
<script src="assets/js/app.js"></script>
<script src="assets/js/router.js"></script>
<script src="assets/js/libs/underscore-min.js"></script>
<script src="assets/js/libs/backbone-min.js"></script>
<script src="assets/js/libs/ICanHaz.min.js"></script>
<script src="assets/js/script.js"></script>

<script>

$(document).ready(function() {
  
  var context = {
      "router" :router,
      "route": "home",
      "backbone": bb,
  };
  {% if loggedIn %}
    options = {
      "feedUrl":"/api/user/homefeeds/"
    };
  {% else %}
    options = {
      "feedUrl":"/api/publicsqwagfeed/"
    };
  {% endif %}
  $.extend(context,options);
  SQ.init(context);

});
</script>
</body>
</html>